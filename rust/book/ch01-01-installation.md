## Установка

Первым шагом является установка Rust. Мы загрузим Rust, используя инструмент командной строки `rustup`, предназначенный для управлениями версиями Rust и другими связанными с ним инструментами. Вам понадобится интернет-соединение для его загрузки.

> Примечание: если вы по каким-то причинам предпочитаете не использовать rustup, пожалуйста, посетите [страницу «Другие методы установки Rust»] для получения дополнительных опций.

Следующие шаги устанавливают последнюю стабильную версию компилятора Rust. Благодаря гарантиям стабильности Rust все примеры в книге, которые компилируются, будут компилироваться и в новых версиях Rust. Вывод может немного отличаться в разных версиях, поскольку Rust часто улучшает сообщения об ошибках и предупреждения. Другими словами, любая новая, стабильная версия Rust, которую вы установите с помощью этих шагов, должна работать с содержимым этой книги так, как ожидается.

> ### Условные обозначения командной строки
>
> В этой главе и во всей книге мы будем демонстрировать некоторые команды, используемые в терминале. Строки, которые вы должны вводить в терминале, начинаются с `$`. Вам не нужно вводить символ `$`; это подсказка командной строки, отображаемая для обозначения начала каждой команды. Строки, которые не начинаются с `$`, обычно показывают вывод предыдущей команды. Кроме того, в примерах, специфичных для PowerShell, будет использоваться `>`, а не `$`.

### Установка `rustup` на Linux или macOS

Если вы используете Linux или macOS, пожалуйста, выполните следующую команду:

```console
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

Команда загружает сценарий и запускает установку инструмента `rustup`, который устанавливает последнюю стабильную версию Rust. Вам может быть предложено ввести пароль. Если установка прошла успешно, появится следующая строка:

```text
Rust is installed now. Great!
```

Вам также понадобится *компоновщик (linker)* — программа, которую Rust использует для объединения своих скомпилированных выходных данных в один файл. Скорее всего, он у вас уже есть. При возникновении ошибок компоновки, вам следует установить компилятор C, который обычно будет включать в себя и компоновщик. Компилятор C также полезен, потому что некоторые распространённые пакеты Rust зависят от кода C и нуждаются в компиляторе C.

На macOS вы можете получить компилятор C, выполнив команду:

```console
$ xcode-select --install
```

Пользователи Linux, как правило, должны устанавливать GCC или Clang в соответствии с документацией их дистрибутива. Например, при использовании Ubuntu можно установить пакет `build-essential`.

### Установка `rustup` на Windows

На Windows перейдите по адресу [https://www.rust-lang.org/tools/install] и следуйте инструкциям по установке Rust. На определённом этапе установки вы получите сообщение, предупреждающее, что вам также понадобятся инструменты сборки MSVC для Visual Studio 2013 или более поздней версии.

Чтобы получить инструменты сборки, вам потребуется установить [Visual Studio 2022]. На вопрос о том, какие компоненты необходимо установить, выберите:

- “Desktop Development with C++”
- The Windows 10 or 11 SDK
- Английский языковой пакет вместе с любым другим языковым пакетом по вашему выбору.

В остальной части этой книги используются команды, которые работают как в *cmd.exe*, так и в PowerShell. При наличии специфических различий мы объясним, что необходимо сделать в таких случаях.

### Устранение возможных ошибок

Чтобы проверить, правильно ли у вас установлен Rust, откройте оболочку и введите эту строку:

```console
$ rustc --version
```

Вы должны увидеть номер версии, хэш фиксации и дату фиксации для последней стабильной версии, которая была выпущена, в следующем формате:

```text
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

Если вы видите эту информацию, вы успешно установили Rust! Если вы не видите эту информацию, убедитесь, что Rust находится в вашей системной переменной `%PATH%` следующим образом:

В Windows CMD:

```console
> echo %PATH%
```

В PowerShell:

```powershell
> echo $env:Path
```

В Linux и macOS:

```console
$ echo $PATH
```

Если все было сделано правильно, но Rust все ещё не работает, есть несколько мест, где вам могут помочь. Узнайте, как связаться с другими Rustaceans (так мы себя называем) на [странице сообщества].

### Обновление и удаление

После установки Rust с помощью `rustup` обновление до новой версии не составит труда. В командной оболочке запустите следующий скрипт обновления:

```console
$ rustup update
```

Чтобы удалить Rust и `rustup`, выполните следующую команду:

```console
$ rustup self uninstall
```

### Локальная документация

Установка Rust также включает локальную копию документации, чтобы вы могли читать её в автономном режиме. Выполните `rustup doc`, чтобы открыть локальную документацию в браузере.

Если стандартная библиотека предоставляет тип или функцию, а вы не знаете, что она делает или как её использовать, воспользуйтесь документацией интерфейса прикладного программирования (API), чтобы это узнать!


[страницу «Другие методы установки Rust»]: https://forge.rust-lang.org/infra/other-installation-methods.html
[https://www.rust-lang.org/tools/install]: https://www.rust-lang.org/tools/install
[Visual Studio 2022]: https://visualstudio.microsoft.com/downloads/
[странице сообщества]: https://www.rust-lang.org/community